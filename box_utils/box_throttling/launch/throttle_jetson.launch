<launch>
  <param name="capability_group" value="Visualization"/>
  <arg name="calibration" default="no"/>
  <arg name="box_namespace" default="gt_box"/>

  <rosparam command="load" file="$(find box_throttling)/cfg/frequencies.yaml" />
  <arg name="zed2i_frequency" default="5.0"/>

  <group ns="$(arg box_namespace)">
    
    <node name="zed_left_throttler" type="throttle" pkg="topic_tools" args="messages /gt_box/zed2i_driver_node/left/image_rect_color/compressed $(arg zed2i_frequency) /gt_box/throttled/gt_box/zed2i_driver_node/left/image_rect_color/compressed"> 
      <param name="capability_group" value="Throttling"/>
    </node>
    
    <node name="zed_right_throttler" type="throttle" pkg="topic_tools" args="messages /gt_box/zed2i_driver_node/right/image_rect_color/compressed $(arg zed2i_frequency) /gt_box/throttled/gt_box/zed2i_driver_node/right/image_rect_color/compressed"> 
      <param name="capability_group" value="Throttling"/>
    </node>
    
    <node name="zed_pointcloud_throttler" type="throttle" pkg="topic_tools" args="messages /gt_box/zed2i_driver_node/point_cloud/cloud_registered $(arg zed2i_frequency) /gt_box/throttled/zed2i_driver_node/point_cloud/cloud_registered" > 
      <param name="capability_group" value="Throttling"/>
    </node>
    
  </group>
</launch>